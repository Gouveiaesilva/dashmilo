<!DOCTYPE html>
<html class="dark" lang="pt-BR">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0, viewport-fit=cover, user-scalable=no" name="viewport"/>
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>
    <meta name="theme-color" content="#0a0f14"/>
    <title>Milo MKT | Painel Gerencial Meta Ads</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <script src="script.js"></script>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap" rel="stylesheet"/>

    <!-- Custom CSS -->
    <link href="style.css" rel="stylesheet"/>

    <!-- Favicon -->
    <link rel="icon" type="image/jpeg" href="img/logo.jpg"/>
</head>
<body class="bg-background-dark text-slate-300 min-h-screen flex overflow-hidden">

<!-- Tela de Login -->
<div id="loginScreen" class="fixed inset-0 z-[100] bg-background-dark flex items-center justify-center p-4">
    <div class="w-full max-w-md">
        <!-- Logo e Titulo -->
        <div class="text-center mb-8">
            <img src="img/logo.jpg" alt="Logo" class="w-20 h-20 rounded-2xl mx-auto mb-4 shadow-lg object-cover"/>
            <h1 class="text-2xl font-bold text-white tracking-tight">Painel Gerencial Meta Ads</h1>
            <p class="text-slate-500 text-sm mt-2">Gerencie suas campanhas de anuncios</p>
        </div>

        <!-- Card de Login -->
        <div class="bg-surface-dark border border-border-dark rounded-2xl p-6 sm:p-8 shadow-2xl">
            <h2 class="text-lg font-bold text-white mb-6 text-center">Entrar na sua conta</h2>

            <form id="loginForm" onsubmit="handleLogin(event)" class="space-y-4">
                <!-- Email -->
                <div>
                    <label class="block text-xs font-medium text-slate-400 mb-2">Email</label>
                    <div class="relative">
                        <span class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-slate-500 text-xl">mail</span>
                        <input
                            type="email"
                            id="loginEmail"
                            class="w-full bg-background-dark border border-border-dark text-white rounded-lg py-3 pl-11 pr-4 text-sm focus:ring-2 focus:ring-primary focus:border-primary transition-colors"
                            placeholder="seu@email.com"
                            required
                        >
                    </div>
                </div>

                <!-- Senha -->
                <div>
                    <label class="block text-xs font-medium text-slate-400 mb-2">Senha</label>
                    <div class="relative">
                        <span class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-slate-500 text-xl">lock</span>
                        <input
                            type="password"
                            id="loginPassword"
                            class="w-full bg-background-dark border border-border-dark text-white rounded-lg py-3 pl-11 pr-12 text-sm focus:ring-2 focus:ring-primary focus:border-primary transition-colors"
                            placeholder="Digite sua senha"
                            required
                        >
                        <button
                            type="button"
                            onclick="toggleLoginPasswordVisibility()"
                            class="absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-white transition-colors"
                        >
                            <span class="material-symbols-outlined text-xl" id="loginPasswordToggleIcon">visibility</span>
                        </button>
                    </div>
                </div>

                <!-- Erro de login -->
                <p id="loginError" class="text-red-500 text-xs hidden">Email ou senha incorretos.</p>

                <!-- Botao Login -->
                <button
                    type="submit"
                    class="w-full py-3 px-4 bg-primary text-white rounded-lg text-sm font-bold hover:bg-primary/90 transition-colors flex items-center justify-center gap-2 mt-2"
                >
                    <span>Entrar</span>
                    <span class="material-symbols-outlined text-lg">arrow_forward</span>
                </button>
            </form>

        </div>

        <!-- Footer -->
        <p class="text-center text-xs text-slate-600 mt-6">
            Ao entrar, voce concorda com nossos <a href="#" class="text-slate-400 hover:text-white">Termos</a> e <a href="#" class="text-slate-400 hover:text-white">Privacidade</a>
        </p>
    </div>
</div>

<!-- Dashboard Container (inicialmente oculto) -->
<div id="dashboardContainer" class="hidden contents">

<!-- Overlay para fechar sidebar no mobile -->
<div class="sidebar-overlay" id="sidebarOverlay" onclick="toggleSidebar()"></div>

<aside class="sidebar w-64 border-r border-border-dark flex flex-col shrink-0 bg-background-dark lg:relative lg:translate-x-0" id="sidebar">
    <div class="p-4 sm:p-6">
        <div class="flex items-center justify-between gap-3">
            <div class="flex items-center gap-3">
                <img src="img/logo.jpg" alt="Logo" class="w-9 h-9 rounded-lg object-cover"/>
                <span class="text-lg sm:text-xl font-bold text-white tracking-tight">Milo MKT</span>
            </div>
            <!-- Botao fechar sidebar no mobile -->
            <button class="lg:hidden p-1 text-slate-400 hover:text-white transition-colors" onclick="toggleSidebar()">
                <span class="material-symbols-outlined">close</span>
            </button>
        </div>
    </div>
    <nav class="flex-1 mt-4">
        <div class="px-4 mb-2 text-xs font-semibold text-slate-500 uppercase tracking-widest">Geral</div>
        <a id="navVisaoGeral" class="flex items-center gap-3 px-6 py-3 text-sm font-medium sidebar-item-active transition-colors cursor-pointer" onclick="switchPanel('visao-geral')">
            <span class="material-symbols-outlined" style="font-variation-settings: 'FILL' 1;">grid_view</span>
            Visao Geral
        </a>
        <a id="navMetricas" class="flex items-center gap-3 px-6 py-3 text-sm font-medium text-slate-400 hover:text-white transition-colors cursor-pointer" onclick="switchPanel('metricas')">
            <span class="material-symbols-outlined">dashboard</span>
            Metricas
        </a>
        <a class="flex items-center gap-3 px-6 py-3 text-sm font-medium text-slate-500 cursor-not-allowed" href="#">
            <span class="material-symbols-outlined">ads_click</span>
            Campanhas <span class="text-[10px] text-slate-600 ml-1">(Em breve)</span>
        </a>
        <a class="flex items-center gap-3 px-6 py-3 text-sm font-medium text-slate-500 cursor-not-allowed" href="#">
            <span class="material-symbols-outlined">description</span>
            Relatorios <span class="text-[10px] text-slate-600 ml-1">(Em breve)</span>
        </a>
        <a class="flex items-center gap-3 px-6 py-3 text-sm font-medium hover:text-white transition-colors cursor-pointer" onclick="openPasswordModal()">
            <span class="material-symbols-outlined">settings</span>
            Ajustes
        </a>
    </nav>
    <div class="p-6 border-t border-border-dark">
        <div class="flex items-center gap-3 p-2 bg-surface-dark rounded-lg">
            <div class="w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center">
                <span id="userAvatar" class="text-primary text-sm font-bold">U</span>
            </div>
            <div class="flex-1 overflow-hidden">
                <p id="userName" class="text-xs font-bold text-white truncate">Usuario</p>
                <p id="userRole" class="text-[10px] text-slate-500 truncate">Usuario</p>
            </div>
            <button onclick="handleLogout()" class="p-1.5 rounded-lg text-slate-500 hover:text-white hover:bg-red-500/20 transition-colors" title="Sair">
                <span class="material-symbols-outlined text-lg">logout</span>
            </button>
        </div>
    </div>
</aside>

<main class="flex-1 flex flex-col overflow-y-auto bg-background-dark">

    <!-- Header Visao Geral (visivel por padrao) -->
    <header id="headerVisaoGeral" class="sticky top-0 z-30 bg-background-dark/95 backdrop-blur-md border-b border-border-dark">
        <div class="max-w-7xl mx-auto">
            <div class="flex items-center justify-between gap-4 px-4 sm:px-6 py-3 sm:py-4">
                <div class="flex items-center gap-3">
                    <button class="menu-toggle lg:hidden p-2 -ml-2 text-slate-400 hover:text-white transition-colors" onclick="toggleSidebar()">
                        <span class="material-symbols-outlined text-2xl">menu</span>
                    </button>
                    <div class="min-w-0">
                        <h1 class="text-base sm:text-xl font-bold text-white truncate">Visao Geral</h1>
                        <p class="text-[11px] sm:text-xs text-slate-500 truncate">Panorama de todos os clientes</p>
                    </div>
                </div>
                <div class="flex items-center gap-2 shrink-0">
                    <button onclick="loadOverviewData()" class="p-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors" title="Atualizar dados">
                        <span class="material-symbols-outlined text-xl">refresh</span>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Header Metricas (oculto por padrao) -->
    <header id="headerMetricas" class="hidden sticky top-0 z-30 bg-background-dark/95 backdrop-blur-md border-b border-border-dark">
        <div class="max-w-7xl mx-auto">
            <!-- Linha 1: Menu + Titulo + Acoes Principais -->
            <div class="flex items-center justify-between gap-4 px-4 sm:px-6 py-3 sm:py-4">
                <div class="flex items-center gap-3">
                    <!-- Menu toggle para mobile -->
                    <button class="menu-toggle lg:hidden p-2 -ml-2 text-slate-400 hover:text-white transition-colors" onclick="toggleSidebar()">
                        <span class="material-symbols-outlined text-2xl">menu</span>
                    </button>
                    <!-- Titulo e Contexto -->
                    <div class="min-w-0">
                        <h1 class="text-base sm:text-xl font-bold text-white truncate">Metricas</h1>
                        <p id="selectedClientName" class="text-[11px] sm:text-xs text-slate-500 truncate">Selecione um cliente</p>
                    </div>
                </div>
                <!-- Acoes Principais -->
                <div class="flex items-center gap-2 shrink-0">
                    <button onclick="openDateFilterModal()" class="flex items-center gap-1.5 sm:gap-2 px-2.5 sm:px-3 py-2 bg-surface-dark border border-border-dark rounded-lg text-xs sm:text-sm font-medium hover:bg-slate-800 transition-colors">
                        <span class="material-symbols-outlined text-base sm:text-lg">calendar_today</span>
                        <span id="dateFilterLabel" class="hidden md:inline">Ultimos 7 dias</span>
                        <span id="dateFilterLabelMobile" class="md:hidden">7 dias</span>
                        <span class="material-symbols-outlined text-base text-slate-500">expand_more</span>
                    </button>
                    <button class="p-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors" title="Atualizar dados">
                        <span class="material-symbols-outlined text-xl">refresh</span>
                    </button>
                </div>
            </div>

            <!-- Linha 2: Filtros - Scrollavel horizontalmente em mobile -->
            <div class="border-t border-border-dark/50 px-4 sm:px-6 py-2.5 sm:py-3 relative">
                <!-- Indicador de scroll a direita (mobile) -->
                <div class="absolute right-0 top-0 bottom-0 w-8 bg-gradient-to-l from-background-dark to-transparent pointer-events-none z-10 sm:hidden"></div>
                <div class="flex items-center gap-2 overflow-x-auto hide-scrollbar pb-1 pr-4 sm:pr-0">
                    <!-- Label dos filtros -->
                    <span class="text-xs text-slate-500 font-medium shrink-0 hidden sm:inline">Filtros:</span>

                    <!-- Filtro Cliente -->
                    <div class="relative shrink-0">
                        <select id="clientFilter" onchange="onClientFilterChange()" class="bg-surface-dark border border-border-dark text-slate-300 rounded-full py-1.5 sm:py-2 pl-3 pr-8 text-xs sm:text-sm appearance-none focus:ring-primary focus:border-primary hover:border-slate-600 transition-colors cursor-pointer">
                            <option value="">Selecione um Cliente</option>
                        </select>
                        <span class="material-symbols-outlined absolute right-2 top-1/2 -translate-y-1/2 text-slate-500 pointer-events-none text-base">expand_more</span>
                    </div>

                    <!-- Separador visual -->
                    <span class="text-border-dark hidden sm:inline">/</span>

                    <!-- Filtro Campanha -->
                    <div class="relative shrink-0">
                        <select id="campaignFilter" onchange="onCampaignFilterChange()" class="bg-surface-dark border border-border-dark text-slate-300 rounded-full py-1.5 sm:py-2 pl-3 pr-8 text-xs sm:text-sm appearance-none focus:ring-primary focus:border-primary hover:border-slate-600 transition-colors cursor-pointer" disabled>
                            <option value="">Todas as Campanhas</option>
                        </select>
                        <span class="material-symbols-outlined absolute right-2 top-1/2 -translate-y-1/2 text-slate-500 pointer-events-none text-base">expand_more</span>
                    </div>

                    <!-- Separador visual -->
                    <span class="text-border-dark hidden sm:inline">/</span>

                    <!-- Filtro Conjunto de Anuncios -->
                    <div class="relative shrink-0">
                        <select id="adsetFilter" onchange="onAdsetFilterChange()" class="bg-surface-dark border border-border-dark text-slate-300 rounded-full py-1.5 sm:py-2 pl-3 pr-8 text-xs sm:text-sm appearance-none focus:ring-primary focus:border-primary hover:border-slate-600 transition-colors cursor-pointer" disabled>
                            <option value="">Todos os Conjuntos</option>
                        </select>
                        <span class="material-symbols-outlined absolute right-2 top-1/2 -translate-y-1/2 text-slate-500 pointer-events-none text-base">expand_more</span>
                    </div>

                    <!-- Botao limpar filtros -->
                    <button onclick="clearAllFilters()" class="shrink-0 flex items-center gap-1 px-2.5 py-1.5 sm:py-2 text-xs text-slate-400 hover:text-white hover:bg-surface-dark rounded-full transition-colors" title="Limpar filtros">
                        <span class="material-symbols-outlined text-sm">filter_alt_off</span>
                        <span class="hidden sm:inline">Limpar</span>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Estado de Loading (overlay) -->
    <div id="loadingState" class="hidden fixed inset-0 z-40 bg-background-dark/80 backdrop-blur-sm flex items-center justify-center">
        <div class="text-center bg-surface-dark border border-border-dark rounded-2xl p-8 shadow-2xl">
            <div class="w-12 h-12 border-4 border-primary/20 border-t-primary rounded-full animate-spin mx-auto mb-4"></div>
            <p class="text-sm text-slate-400">Carregando dados...</p>
        </div>
    </div>

    <!-- Painel: Visao Geral (visivel por padrao) -->
    <div id="panelVisaoGeral" class="p-4 sm:p-6 lg:p-8 space-y-6 sm:space-y-8 max-w-7xl mx-auto w-full">
        <!-- Resumo -->
        <div class="flex flex-wrap gap-3 sm:gap-4">
            <div class="flex items-center gap-2 px-3 py-2 bg-surface-dark border border-border-dark rounded-lg">
                <span class="material-symbols-outlined text-primary text-lg">group</span>
                <span class="text-xs text-slate-400">Total de Clientes:</span>
                <span id="overviewTotalClients" class="text-sm font-bold text-white">--</span>
            </div>
            <div class="flex items-center gap-2 px-3 py-2 bg-surface-dark border border-border-dark rounded-lg">
                <span class="material-symbols-outlined text-[#0bda5b] text-lg">check_circle</span>
                <span class="text-xs text-slate-400">Ativos:</span>
                <span id="overviewActiveClients" class="text-sm font-bold text-[#0bda5b]">--</span>
            </div>
            <div class="flex items-center gap-2 px-3 py-2 bg-surface-dark border border-border-dark rounded-lg">
                <span class="material-symbols-outlined text-red-500 text-lg">error</span>
                <span class="text-xs text-slate-400">Com Problemas:</span>
                <span id="overviewProblemClients" class="text-sm font-bold text-red-500">--</span>
            </div>
        </div>

        <!-- Grid de Cards dos Clientes -->
        <div id="overviewCardsGrid" class="grid grid-cols-1 xs:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6">
            <div id="overviewLoading" class="col-span-full flex flex-col items-center justify-center py-16 text-slate-600">
                <span class="material-symbols-outlined text-5xl sm:text-6xl mb-3 opacity-50">grid_view</span>
                <span class="text-sm">Selecione Atualizar para carregar os dados</span>
            </div>
        </div>

        <!-- Footer -->
        <div class="flex flex-col sm:flex-row items-center justify-between gap-3 text-[10px] sm:text-xs text-slate-600 font-medium pt-4">
            <p class="text-center sm:text-left">&copy; 2026 | Meta Ads | Desenvolvido por Alisson Gouveia. Todos os direitos reservados.</p>
            <div class="flex gap-4">
                <a class="hover:text-slate-400" href="#">Termos</a>
                <a class="hover:text-slate-400" href="#">Privacidade</a>
                <a class="hover:text-slate-400" href="#">Suporte</a>
            </div>
        </div>
    </div>

    <!-- Painel: Metricas (oculto por padrao) -->
    <div id="panelMetricas" class="hidden p-4 sm:p-6 lg:p-8 space-y-6 sm:space-y-8 max-w-7xl mx-auto w-full">
        <!-- Cards de Metricas -->
        <div class="grid grid-cols-1 xs:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6">
            <!-- Card Valor Investido -->
            <div class="bg-surface-dark border border-border-dark rounded-xl sm:rounded-2xl p-4 sm:p-6 shadow-sm hover:border-slate-700 transition-colors group">
                <div class="flex items-center justify-between mb-3 sm:mb-4">
                    <div class="w-8 h-8 sm:w-10 sm:h-10 bg-blue-500/10 rounded-lg sm:rounded-xl flex items-center justify-center text-blue-500 group-hover:bg-blue-500/20">
                        <span class="material-symbols-outlined text-xl sm:text-2xl">payments</span>
                    </div>
                    <div id="spendTrend" class="flex items-center gap-1 text-slate-500 bg-slate-500/10 px-1.5 sm:px-2 py-0.5 rounded text-[10px] sm:text-xs font-bold">
                        <span class="material-symbols-outlined text-[10px] sm:text-xs">remove</span>
                        <span>--</span>
                    </div>
                </div>
                <span class="text-[10px] sm:text-xs font-bold text-slate-500 uppercase tracking-widest">Valor Investido</span>
                <p id="spendValue" class="text-xl sm:text-2xl font-bold text-white mt-1">--</p>
            </div>

            <!-- Card Impressoes -->
            <div class="bg-surface-dark border border-border-dark rounded-xl sm:rounded-2xl p-4 sm:p-6 shadow-sm hover:border-slate-700 transition-colors group">
                <div class="flex items-center justify-between mb-3 sm:mb-4">
                    <div class="w-8 h-8 sm:w-10 sm:h-10 bg-purple-500/10 rounded-lg sm:rounded-xl flex items-center justify-center text-purple-500 group-hover:bg-purple-500/20">
                        <span class="material-symbols-outlined text-xl sm:text-2xl">visibility</span>
                    </div>
                    <div id="impressionsTrend" class="flex items-center gap-1 text-slate-500 bg-slate-500/10 px-1.5 sm:px-2 py-0.5 rounded text-[10px] sm:text-xs font-bold">
                        <span class="material-symbols-outlined text-[10px] sm:text-xs">remove</span>
                        <span>--</span>
                    </div>
                </div>
                <span class="text-[10px] sm:text-xs font-bold text-slate-500 uppercase tracking-widest">Total de Impressoes</span>
                <p id="impressionsValue" class="text-xl sm:text-2xl font-bold text-white mt-1">--</p>
            </div>

            <!-- Card Leads -->
            <div class="bg-surface-dark border border-border-dark rounded-xl sm:rounded-2xl p-4 sm:p-6 shadow-sm hover:border-slate-700 transition-colors group">
                <div class="flex items-center justify-between mb-3 sm:mb-4">
                    <div class="w-8 h-8 sm:w-10 sm:h-10 bg-orange-500/10 rounded-lg sm:rounded-xl flex items-center justify-center text-orange-500 group-hover:bg-orange-500/20">
                        <span class="material-symbols-outlined text-xl sm:text-2xl">person_add</span>
                    </div>
                    <div id="leadsTrend" class="flex items-center gap-1 text-slate-500 bg-slate-500/10 px-1.5 sm:px-2 py-0.5 rounded text-[10px] sm:text-xs font-bold">
                        <span class="material-symbols-outlined text-[10px] sm:text-xs">remove</span>
                        <span>--</span>
                    </div>
                </div>
                <span class="text-[10px] sm:text-xs font-bold text-slate-500 uppercase tracking-widest">Leads Gerados</span>
                <p id="leadsValue" class="text-xl sm:text-2xl font-bold text-white mt-1">--</p>
            </div>

            <!-- Card CPL -->
            <div class="bg-surface-dark border border-border-dark rounded-xl sm:rounded-2xl p-4 sm:p-6 shadow-sm hover:border-slate-700 transition-colors group">
                <div class="flex items-center justify-between mb-3 sm:mb-4">
                    <div class="w-8 h-8 sm:w-10 sm:h-10 bg-primary/10 rounded-lg sm:rounded-xl flex items-center justify-center text-primary group-hover:bg-primary/20">
                        <span class="material-symbols-outlined text-xl sm:text-2xl">toll</span>
                    </div>
                    <div id="cplTrend" class="flex items-center gap-1 text-slate-500 bg-slate-500/10 px-1.5 sm:px-2 py-0.5 rounded text-[10px] sm:text-xs font-bold">
                        <span class="material-symbols-outlined text-[10px] sm:text-xs">remove</span>
                        <span>--</span>
                    </div>
                </div>
                <span class="text-[10px] sm:text-xs font-bold text-slate-500 uppercase tracking-widest">Custo por Lead</span>
                <p id="cplValue" class="text-xl sm:text-2xl font-bold text-white mt-1">--</p>
            </div>
        </div>

        <!-- Grafico de Performance -->
        <div class="bg-surface-dark border border-border-dark rounded-xl sm:rounded-2xl p-4 sm:p-6 lg:p-8 shadow-sm">
            <div class="flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6 sm:mb-8">
                <div>
                    <h3 class="text-base sm:text-lg font-bold text-white tracking-tight">Analise de Performance</h3>
                    <p class="text-xs sm:text-sm text-slate-500 mt-1">Variacao das metricas principais no periodo selecionado</p>
                </div>
                <div class="flex items-center gap-1 p-1 bg-background-dark border border-border-dark rounded-lg overflow-x-auto chart-filters">
                    <button class="chart-filter-btn px-3 sm:px-4 py-1.5 rounded-md text-[10px] sm:text-xs font-bold bg-primary text-white shadow-lg transition-all whitespace-nowrap" data-metric="spend">Valor Investido</button>
                    <button class="chart-filter-btn px-3 sm:px-4 py-1.5 rounded-md text-[10px] sm:text-xs font-bold text-slate-500 hover:text-white transition-all whitespace-nowrap" data-metric="impressions">Impressoes</button>
                    <button class="chart-filter-btn px-3 sm:px-4 py-1.5 rounded-md text-[10px] sm:text-xs font-bold text-slate-500 hover:text-white transition-all whitespace-nowrap" data-metric="leads">Leads</button>
                    <button class="chart-filter-btn px-3 sm:px-4 py-1.5 rounded-md text-[10px] sm:text-xs font-bold text-slate-500 hover:text-white transition-all whitespace-nowrap" data-metric="cpl">CPL</button>
                </div>
            </div>
            <div id="chartContainer" class="relative h-[250px] sm:h-[300px] lg:h-[400px] w-full chart-grid rounded-xl border border-border-dark/50 overflow-visible">
                <!-- Placeholder inicial do grafico -->
                <div id="chartPlaceholder" class="flex flex-col items-center justify-center h-full text-slate-600">
                    <span class="material-symbols-outlined text-5xl sm:text-6xl mb-3 opacity-50">show_chart</span>
                    <span class="text-sm">Selecione um cliente para visualizar o grafico</span>
                </div>
            </div>
            <div id="chartLabels" class="hidden"></div>
        </div>

        <!-- Footer -->
        <div class="flex flex-col sm:flex-row items-center justify-between gap-3 text-[10px] sm:text-xs text-slate-600 font-medium pt-4">
            <p class="text-center sm:text-left">Â© 2026 | Meta Ads | Desenvolvido por Alisson Gouveia. Todos os direitos reservados.</p>
            <div class="flex gap-4">
                <a class="hover:text-slate-400" href="#">Termos</a>
                <a class="hover:text-slate-400" href="#">Privacidade</a>
                <a class="hover:text-slate-400" href="#">Suporte</a>
            </div>
        </div>
    </div>
</main>

<!-- Modal de Senha -->
<div id="passwordModal" class="fixed inset-0 z-50 hidden items-center justify-center p-4">
    <!-- Overlay -->
    <div class="absolute inset-0 bg-black/60 backdrop-blur-sm" onclick="closePasswordModal()"></div>

    <!-- Modal Content -->
    <div class="relative bg-surface-dark border border-border-dark rounded-2xl w-full max-w-sm p-6 shadow-2xl transform transition-all">
        <!-- Header -->
        <div class="text-center mb-6">
            <div class="w-14 h-14 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4">
                <span class="material-symbols-outlined text-primary text-3xl">lock</span>
            </div>
            <h2 class="text-xl font-bold text-white">Acesso Restrito</h2>
            <p class="text-sm text-slate-500 mt-1">Digite a senha para acessar as configuracoes</p>
        </div>

        <!-- Form -->
        <form onsubmit="validatePassword(event)">
            <div class="mb-4">
                <label class="block text-xs font-medium text-slate-400 mb-2">Senha</label>
                <div class="relative">
                    <input
                        type="password"
                        id="passwordInput"
                        class="w-full bg-background-dark border border-border-dark text-white rounded-lg py-3 px-4 pr-12 text-sm focus:ring-2 focus:ring-primary focus:border-primary transition-colors"
                        placeholder="Digite sua senha"
                        autocomplete="off"
                    >
                    <button
                        type="button"
                        onclick="togglePasswordVisibility()"
                        class="absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-white transition-colors"
                    >
                        <span class="material-symbols-outlined text-xl" id="passwordToggleIcon">visibility</span>
                    </button>
                </div>
                <p id="passwordError" class="text-red-500 text-xs mt-2 hidden">Senha incorreta. Tente novamente.</p>
            </div>

            <div class="flex gap-3">
                <button
                    type="button"
                    onclick="closePasswordModal()"
                    class="flex-1 py-3 px-4 bg-background-dark border border-border-dark text-slate-300 rounded-lg text-sm font-medium hover:bg-slate-800 transition-colors"
                >
                    Cancelar
                </button>
                <button
                    type="submit"
                    class="flex-1 py-3 px-4 bg-primary text-white rounded-lg text-sm font-bold hover:bg-primary/90 transition-colors"
                >
                    Entrar
                </button>
            </div>
        </form>
    </div>
</div>

</div>
<!-- Fim Dashboard Container -->

<!-- Modal de Filtro de Periodo -->
<div id="dateFilterModal" class="fixed inset-0 z-50 hidden items-center justify-center p-2 sm:p-4">
    <!-- Overlay -->
    <div class="absolute inset-0 bg-black/60 backdrop-blur-sm" onclick="closeDateFilterModal()"></div>

    <!-- Modal Content -->
    <div class="relative bg-surface-dark border border-border-dark rounded-2xl w-full max-w-md max-h-[90vh] shadow-2xl transform transition-all flex flex-col overflow-hidden">
        <!-- Header -->
        <div class="flex items-center justify-between p-4 border-b border-border-dark">
            <div class="flex items-center gap-3">
                <div class="w-10 h-10 bg-primary/10 rounded-xl flex items-center justify-center">
                    <span class="material-symbols-outlined text-primary">date_range</span>
                </div>
                <div>
                    <h2 class="text-lg font-bold text-white">Periodo</h2>
                    <p class="text-xs text-slate-500">Selecione o periodo de analise</p>
                </div>
            </div>
            <button onclick="closeDateFilterModal()" class="p-2 text-slate-400 hover:text-white hover:bg-background-dark rounded-lg transition-colors">
                <span class="material-symbols-outlined">close</span>
            </button>
        </div>

        <!-- Content -->
        <div class="p-4 overflow-y-auto flex-1">
            <!-- Periodos Pre-definidos -->
            <div class="grid grid-cols-2 gap-2 mb-4">
                <button onclick="selectDatePreset('today', 'Hoje')" class="date-preset-btn flex items-center gap-2 p-3 sm:p-3 bg-background-dark border border-border-dark rounded-xl text-xs sm:text-sm text-slate-300 hover:border-primary hover:text-white active:scale-95 transition-all text-left">
                    <span class="material-symbols-outlined text-base sm:text-lg text-slate-500">today</span>
                    Hoje
                </button>
                <button onclick="selectDatePreset('yesterday', 'Ontem')" class="date-preset-btn flex items-center gap-2 p-3 sm:p-3 bg-background-dark border border-border-dark rounded-xl text-xs sm:text-sm text-slate-300 hover:border-primary hover:text-white active:scale-95 transition-all text-left">
                    <span class="material-symbols-outlined text-base sm:text-lg text-slate-500">event</span>
                    Ontem
                </button>
                <button onclick="selectDatePreset('last_7d', 'Ultimos 7 dias')" class="date-preset-btn flex items-center gap-2 p-3 sm:p-3 bg-background-dark border border-border-dark rounded-xl text-xs sm:text-sm text-slate-300 hover:border-primary hover:text-white active:scale-95 transition-all text-left">
                    <span class="material-symbols-outlined text-base sm:text-lg text-slate-500">date_range</span>
                    Ultimos 7 dias
                </button>
                <button onclick="selectDatePreset('last_14d', 'Ultimos 14 dias')" class="date-preset-btn flex items-center gap-2 p-3 sm:p-3 bg-background-dark border border-border-dark rounded-xl text-xs sm:text-sm text-slate-300 hover:border-primary hover:text-white active:scale-95 transition-all text-left">
                    <span class="material-symbols-outlined text-base sm:text-lg text-slate-500">date_range</span>
                    Ultimos 14 dias
                </button>
                <button onclick="selectDatePreset('last_28d', 'Ultimos 28 dias')" class="date-preset-btn flex items-center gap-2 p-3 sm:p-3 bg-background-dark border border-border-dark rounded-xl text-xs sm:text-sm text-slate-300 hover:border-primary hover:text-white active:scale-95 transition-all text-left">
                    <span class="material-symbols-outlined text-base sm:text-lg text-slate-500">date_range</span>
                    Ultimos 28 dias
                </button>
                <button onclick="selectDatePreset('last_30d', 'Ultimos 30 dias')" class="date-preset-btn flex items-center gap-2 p-3 sm:p-3 bg-background-dark border border-border-dark rounded-xl text-xs sm:text-sm text-slate-300 hover:border-primary hover:text-white active:scale-95 transition-all text-left">
                    <span class="material-symbols-outlined text-base sm:text-lg text-slate-500">date_range</span>
                    Ultimos 30 dias
                </button>
                <button onclick="selectDatePreset('this_week', 'Esta semana')" class="date-preset-btn flex items-center gap-2 p-3 sm:p-3 bg-background-dark border border-border-dark rounded-xl text-xs sm:text-sm text-slate-300 hover:border-primary hover:text-white active:scale-95 transition-all text-left">
                    <span class="material-symbols-outlined text-base sm:text-lg text-slate-500">view_week</span>
                    Esta semana
                </button>
                <button onclick="selectDatePreset('last_week', 'Semana passada')" class="date-preset-btn flex items-center gap-2 p-3 sm:p-3 bg-background-dark border border-border-dark rounded-xl text-xs sm:text-sm text-slate-300 hover:border-primary hover:text-white active:scale-95 transition-all text-left">
                    <span class="material-symbols-outlined text-base sm:text-lg text-slate-500">view_week</span>
                    Semana passada
                </button>
                <button onclick="selectDatePreset('this_month', 'Este mes')" class="date-preset-btn flex items-center gap-2 p-3 sm:p-3 bg-background-dark border border-border-dark rounded-xl text-xs sm:text-sm text-slate-300 hover:border-primary hover:text-white active:scale-95 transition-all text-left">
                    <span class="material-symbols-outlined text-base sm:text-lg text-slate-500">calendar_month</span>
                    Este mes
                </button>
                <button onclick="selectDatePreset('last_month', 'Mes passado')" class="date-preset-btn flex items-center gap-2 p-3 sm:p-3 bg-background-dark border border-border-dark rounded-xl text-xs sm:text-sm text-slate-300 hover:border-primary hover:text-white active:scale-95 transition-all text-left">
                    <span class="material-symbols-outlined text-base sm:text-lg text-slate-500">calendar_month</span>
                    Mes passado
                </button>
                <button onclick="selectDatePreset('maximum', 'Maximo')" class="date-preset-btn flex items-center gap-2 p-3 sm:p-3 bg-background-dark border border-border-dark rounded-xl text-xs sm:text-sm text-slate-300 hover:border-primary hover:text-white active:scale-95 transition-all text-left col-span-2">
                    <span class="material-symbols-outlined text-base sm:text-lg text-slate-500">all_inclusive</span>
                    Maximo (todos os dados)
                </button>
            </div>

            <!-- Separador -->
            <div class="flex items-center gap-3 my-4">
                <div class="flex-1 h-px bg-border-dark"></div>
                <span class="text-xs text-slate-500">ou selecione um periodo</span>
                <div class="flex-1 h-px bg-border-dark"></div>
            </div>

            <!-- Periodo Personalizado -->
            <div class="bg-background-dark border border-border-dark rounded-xl p-4">
                <h3 class="text-sm font-bold text-white mb-3 flex items-center gap-2">
                    <span class="material-symbols-outlined text-primary text-lg">edit_calendar</span>
                    Periodo Personalizado
                </h3>
                <div class="grid grid-cols-2 gap-3">
                    <div>
                        <label class="block text-xs font-medium text-slate-400 mb-1.5">Data Inicio</label>
                        <input
                            type="date"
                            id="customDateStart"
                            class="w-full bg-surface-dark border border-border-dark text-white rounded-lg py-2.5 px-3 text-sm focus:ring-2 focus:ring-primary focus:border-primary transition-colors"
                        >
                    </div>
                    <div>
                        <label class="block text-xs font-medium text-slate-400 mb-1.5">Data Fim</label>
                        <input
                            type="date"
                            id="customDateEnd"
                            class="w-full bg-surface-dark border border-border-dark text-white rounded-lg py-2.5 px-3 text-sm focus:ring-2 focus:ring-primary focus:border-primary transition-colors"
                        >
                    </div>
                </div>
                <button onclick="applyCustomDateRange()" class="w-full mt-3 py-2.5 px-4 bg-primary text-white rounded-lg text-sm font-medium hover:bg-primary/90 transition-colors flex items-center justify-center gap-2">
                    <span class="material-symbols-outlined text-lg">check</span>
                    Aplicar Periodo
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Modal de Cadastro de Clientes -->
<div id="clientsModal" class="fixed inset-0 z-50 hidden items-center justify-center p-4">
    <!-- Overlay -->
    <div class="absolute inset-0 bg-black/60 backdrop-blur-sm" onclick="closeClientsModal()"></div>

    <!-- Modal Content -->
    <div class="relative bg-surface-dark border border-border-dark rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden shadow-2xl transform transition-all flex flex-col">
        <!-- Header -->
        <div class="flex items-center justify-between p-6 border-b border-border-dark shrink-0">
            <div class="flex items-center gap-3">
                <div class="w-10 h-10 bg-primary/10 rounded-xl flex items-center justify-center">
                    <span class="material-symbols-outlined text-primary">group_add</span>
                </div>
                <div>
                    <h2 class="text-lg font-bold text-white">Gerenciar Clientes</h2>
                    <p class="text-xs text-slate-500">Adicione e gerencie contas de anuncios</p>
                </div>
            </div>
            <button onclick="closeClientsModal()" class="p-2 text-slate-400 hover:text-white hover:bg-background-dark rounded-lg transition-colors">
                <span class="material-symbols-outlined">close</span>
            </button>
        </div>

        <!-- Content -->
        <div class="p-6 overflow-y-auto flex-1">
            <!-- Formulario de Adicionar Cliente -->
            <div class="bg-background-dark border border-border-dark rounded-xl p-4 mb-6">
                <h3 class="text-sm font-bold text-white mb-4 flex items-center gap-2">
                    <span class="material-symbols-outlined text-primary text-lg">add_circle</span>
                    Adicionar Novo Cliente
                </h3>
                <form onsubmit="addClient(event)" class="space-y-4">
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-xs font-medium text-slate-400 mb-1.5">Nome do Cliente</label>
                            <input
                                type="text"
                                id="clientName"
                                class="w-full bg-surface-dark border border-border-dark text-white rounded-lg py-2.5 px-3 text-sm focus:ring-2 focus:ring-primary focus:border-primary transition-colors"
                                placeholder="Ex: Imobiliaria ABC"
                                required
                            >
                        </div>
                        <div>
                            <label class="block text-xs font-medium text-slate-400 mb-1.5">ID da Conta de Anuncios</label>
                            <input
                                type="text"
                                id="adAccountId"
                                class="w-full bg-surface-dark border border-border-dark text-white rounded-lg py-2.5 px-3 text-sm focus:ring-2 focus:ring-primary focus:border-primary transition-colors"
                                placeholder="Ex: act_123456789"
                                required
                            >
                        </div>
                    </div>
                    <div class="flex justify-end">
                        <button
                            type="submit"
                            class="flex items-center gap-2 py-2.5 px-4 bg-primary text-white rounded-lg text-sm font-medium hover:bg-primary/90 transition-colors"
                        >
                            <span class="material-symbols-outlined text-lg">add</span>
                            Adicionar Cliente
                        </button>
                    </div>
                </form>
            </div>

            <!-- Lista de Clientes -->
            <div>
                <h3 class="text-sm font-bold text-white mb-4 flex items-center gap-2">
                    <span class="material-symbols-outlined text-lg">list</span>
                    Clientes Cadastrados
                </h3>
                <div id="clientsList" class="space-y-3">
                    <!-- Clientes serao carregados do LocalStorage -->

                    <!-- Mensagem quando nao ha clientes -->
                    <div id="noClientsMessage" class="text-center py-8">
                        <div class="w-16 h-16 bg-surface-dark rounded-full flex items-center justify-center mx-auto mb-4">
                            <span class="material-symbols-outlined text-slate-600 text-3xl">person_off</span>
                        </div>
                        <p class="text-slate-500 text-sm">Nenhum cliente cadastrado</p>
                        <p class="text-slate-600 text-xs mt-1">Adicione seu primeiro cliente acima</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="p-4 border-t border-border-dark bg-background-dark/50 shrink-0">
            <div class="flex items-center justify-between">
                <p class="text-xs text-slate-500">
                    <span class="material-symbols-outlined text-sm align-middle mr-1">info</span>
                    O ID da conta pode ser encontrado no Gerenciador de Anuncios do Meta
                </p>
                <button onclick="closeClientsModal()" class="py-2 px-4 bg-surface-dark border border-border-dark text-slate-300 rounded-lg text-sm font-medium hover:bg-slate-800 transition-colors">
                    Fechar
                </button>
            </div>
        </div>
    </div>
</div>

</body>
</html>
